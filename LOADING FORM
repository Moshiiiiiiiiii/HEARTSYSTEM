using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace H.E.A.R.Tv2._0
{
    public partial class Form1 : Form
    {
        // A counter used to animate dots ("...") in the "Launching" message
        private int waitDotCount = 0;

        public Form1()
        {

            InitializeComponent();
            this.DoubleBuffered = true;
            this.SetStyle(ControlStyles.OptimizedDoubleBuffer, true);
            this.UpdateStyles();
            // Display the initial text message when the form starts
            if (label4 != null)
                label4.Text = "Launching, please wait";
        }
        private void timer1_Tick(object sender, EventArgs e)
        {
            // Display current progress value as percentage
            label1.Text = guna2ProgressBar1.Value + "%";

            // Continue increasing progress bar until it reaches 100%
            if (guna2ProgressBar1.Value < 100)
            {
                // Add 3 to progress bar value each tick
                guna2ProgressBar1.Value += 3;

                // --- Move the ambulance image (pictureBox1) along with progress ---

                // Get width of progress bar
                int progressBarWidth = guna2ProgressBar1.Width;

                // Starting (left) position of progress bar
                int min = guna2ProgressBar1.Left;

                // Maximum position for the image to move before it reaches the end
                int max = min + progressBarWidth - pictureBox1.Width;

                // Compute new X position of the pictureBox based on progress percentage
                int newss = min + (guna2ProgressBar1.Value * (progressBarWidth - pictureBox1.Width) / 100);

                // Move the image horizontally as progress increases
                pictureBox1.Left = newss;

                // --- Animate dots in the "Launching, please wait" message ---

                // Keep cycling dot count between 1 and 2 (for "...", etc.)
                waitDotCount = (waitDotCount % 2) + 1;

                // Update label text with dots animation
                if (label4 != null)
                {
                    label4.Text = "Launching, please wait" + new string('.', waitDotCount);
                }
            }
            else
            {
                // When progress bar reaches 100%, stop the timer
                timer1.Stop();

                // Hide the current loading form (Form1)
                this.Hide();

                // Create and show the next form (Form2)
                Form2 next = new Form2();
                next.Show();
            }
        }
    }
}
